# Item 46. 타입 선언과 관련된 세 가지 버전 이해하기

일반적으로 타입스트립트 프로젝트의 경우 의존성 관리가 더 복잡하다.
* 라이브러리 버전
* `@type` 버전
* 타입스크립트 버전

위 세 가지 버전이 맞아야 프로젝트가 제대로 동작한다.

만약 버전이 동일하지 않다면, 프로젝트 작업 중 에러를 마주할 가능성이 높다.

실제 라이브러리와 `DefinitelyTyped` 버전이 따로 관리되는 경우, 네 가지 문제점이 발생할 수 있다.

1. 라이브러리를 업데이트했지만, 타입 선언 버전은 업데이트 하지 않을 경우
    * 새로운 기능을 사용할 때, 타입 에러가 발생한다.
2. 라이브러리보다 타입 선언 버전이 높은 경우
3. 프로젝트에서 요구하는 타입스크립트 버전보다, 라이브러리에서 요구하는 타입스크립트 버전이 높은 경우
    ```bash
    $ npm install --save-dev @types/lodash@ts3.1
    ```
    * 특정 버전에 대한 타입 선언 버전을 설치한다.
4. `@type` 의존성이 중복되는 경우
    * 전역 네임스페이스에 타입 선언이 존재하면 타입 병합 등의 문제가 생긴다.

일반적으로 라이브러리의 타입 관리는 번들링 파일 `d.ts` 혹은 `DefinedTyped` 에 타입 선언을 공개하여 커뮤니티에서 관리하는 방식으로 나뉜다.

타입스크립트로 작성된 라이브러리라면, 컴파일러가 타입 선언을 대신 선언해주기 때문에 라이브러리에 타입 선언을 포함 시키는 것이 좋다.

자바스크립트로 작성된 라이브러리라면, 직접 작성한 타입 선언은 오류 가능성이 높고 업데이트가 자주 되는 경우가 있기 때문에, 커뮤니티에서 유지보수하는 것이 더 나을 수 있다.
